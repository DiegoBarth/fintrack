import{T as e,w as t}from"./react-query-Bs2h8zdQ.js";import{t as n}from"./calendar-CoCYHIs5.js";import{t as r}from"./minus-it4NM-0W.js";import{t as i}from"./plus-FMxYpmOt.js";import{t as a}from"./trending-up-h5C2Jpao.js";import{t as o}from"./wallet-1fvb7r1o.js";import{_ as s,g as c,o as l,s as u}from"./index-BNa-EEwN.js";import{o as d}from"./formatters-QxNcvdBP.js";var f=e(),p=t();function m({title:e,amount:t,color:n,isLoading:r,icon:i,subtitle:a}){return(0,p.jsx)(`div`,{className:`summary-card`,children:(0,p.jsx)(`div`,{className:`h-[78px] flex items-center justify-between rounded-xl bg-white dark:bg-gray-800 p-4 md:p-5\r
               shadow-sm transition-shadow hover:shadow-lg border border-gray-100 dark:border-gray-700`,style:{borderLeft:`5px solid ${n}`},children:(0,p.jsxs)(`div`,{className:`flex items-center gap-3 md:gap-4`,children:[i&&(0,p.jsx)(`div`,{className:`flex h-10 w-10 md:h-12 md:w-12 items-center justify-center rounded-lg`,style:{backgroundColor:`${n}20`},children:(0,p.jsx)(`span`,{style:{color:n},children:i})}),(0,p.jsxs)(`div`,{children:[(0,p.jsx)(`p`,{className:`text-xs md:text-sm text-muted-foreground font-medium`,children:e}),r?(0,p.jsx)(u,{className:`h-7 md:h-8 w-28 md:w-32 rounded-md`}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(`p`,{className:`text-xl md:text-2xl font-bold`,style:{color:n},children:d(t)}),a&&(0,p.jsx)(`p`,{className:`text-xs text-muted-foreground mt-0.5`,children:a})]})]})]})})})}function h(){let{month:e,year:t}=c(),{summary:u,isLoading:h}=l(e,String(t)),{theme:g}=s(),_=(0,f.useMemo)(()=>({totalIncomes:u?.totalIncomes??0,totalExpenses:u?.totalExpenses??0,totalCommitments:u?.totalCommitments??0,totalReceivedAmount:u?.totalReceivedAmount??0,totalPaidExpenses:u?.totalPaidExpenses??0,totalPaidCommitments:u?.totalPaidCommitments??0}),[u]),v=(0,f.useMemo)(()=>{let e=_.totalIncomes-_.totalExpenses-_.totalCommitments,t=u?.accumulatedBalanceFromPreviousMonth??0,n=Math.round((t+e)*100)/100,r=Math.round((_.totalReceivedAmount-_.totalPaidExpenses-_.totalPaidCommitments)*100)/100,i=Math.round(t*100)/100;return{monthFinalBalance:n,currentBalance:r,monthFinalSubtitle:i===0?void 0:`Inclui saldo do mês anterior: ${d(i)}`}},[_,u?.accumulatedBalanceFromPreviousMonth]);return(0,p.jsxs)(`div`,{className:`space-y-3`,children:[(0,p.jsx)(`h2`,{className:`text-base md:text-lg font-semibold text-gray-900 dark:text-gray-100`,children:`Resumo do Mês`}),(0,p.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-3 overflow-y-auto max-h-[min(65vh,500px)] pr-1`,children:[(0,p.jsx)(m,{title:`Entradas`,amount:_.totalIncomes,color:`#3b82f6`,isLoading:h,icon:(0,p.jsx)(i,{className:`h-4 w-4 md:h-5 md:w-5`})}),(0,p.jsx)(m,{title:`Gastos`,amount:_.totalExpenses,color:`#ef4444`,isLoading:h,icon:(0,p.jsx)(r,{className:`h-4 w-4 md:h-5 md:w-5`})}),(0,p.jsx)(m,{title:`Compromissos`,amount:_.totalCommitments,color:g==`dark`?`#f59e0b`:`#b45309`,isLoading:h,icon:(0,p.jsx)(n,{className:`h-4 w-4 md:h-5 md:w-5`})}),(0,p.jsx)(m,{title:`Saldo Atual`,amount:v.currentBalance,color:v.currentBalance<0?`#ef4444`:`#6366f1`,isLoading:h,icon:(0,p.jsx)(o,{className:`h-4 w-4 md:h-5 md:w-5`})}),(0,p.jsx)(m,{title:`Saldo Final do Mês`,amount:v.monthFinalBalance,color:v.monthFinalBalance<0?`#b91c1c`:g==`dark`?`#4ADE80`:`#15803d`,isLoading:h,icon:(0,p.jsx)(a,{className:`h-4 w-4 md:h-5 md:w-5`}),subtitle:v.monthFinalSubtitle})]})]})}export{h as default};