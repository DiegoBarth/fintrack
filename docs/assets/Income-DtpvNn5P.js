const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AddIncomeModal-BKQqcQEZ.js","assets/index-CrEqE7_v.js","assets/vendor-react-g7Jl8uRT.js","assets/react-query-Bs2h8zdQ.js","assets/rolldown-runtime-DGruFWvd.js","assets/vendor-react-Chw94eNX.css","assets/index-DlpqXM1l.css","assets/pt-BR-CwF-q4-j.js","assets/useValidation-C5DCKG1X.js","assets/incomeQuery-CnVeQLqq.js","assets/formatters-p9cTN3zd.js","assets/sanitizers-BTIJ-cE9.js","assets/DateField-BbN-VAiT.js","assets/ModalBase-CvZekacX.js","assets/MonthField-BPD2zaMv.js","assets/queryInvalidationService-BxMLaNui.js","assets/useIncome-C5ctNiUH.js","assets/EditIncomeModal-COqnNsic.js","assets/ScopeChoiceModal-DsXWHF6r.js"])))=>i.map(i=>d[i]);
import{T as e,w as t}from"./react-query-Bs2h8zdQ.js";import{b as n,i as r,x as i}from"./vendor-react-g7Jl8uRT.js";import{a,c as o,i as s,n as c,o as l,r as u,s as d,t as f}from"./ListColValue-CyctMN5A.js";import{t as p}from"./plus-bXxpRmh3.js";import{a as m,g as h,i as g}from"./index-CrEqE7_v.js";import{s as _}from"./formatters-p9cTN3zd.js";import"./sanitizers-BTIJ-cE9.js";import"./queryInvalidationService-BxMLaNui.js";import{t as v}from"./pt-BR-CwF-q4-j.js";import"./incomeQuery-CnVeQLqq.js";import{t as y}from"./useIncome-C5ctNiUH.js";var b=e(),x=t();const S=(0,b.memo)(function({incomes:e,onSelect:t}){return(0,x.jsx)(o,{itens:e,emptyText:`Nenhuma receita cadastrada`,keyExtractor:e=>e.rowIndex,renderMobileItem:(0,b.useCallback)(e=>{let n=!!e.receivedDate;return(0,x.jsxs)(d,{onClick:()=>t(e),variant:n?`success`:`default`,className:`p-3`,children:[(0,x.jsx)(l,{title:e.description,right:_(e.amount)}),(0,x.jsx)(a,{left:(0,x.jsxs)(`div`,{className:`flex flex-col text-xs min-h-[32px] justify-center gap-1`,children:[e.expectedDate&&(0,x.jsxs)(`span`,{className:`text-blue-700 dark:text-blue-300`,children:[`Previsto para `,e.expectedDate]}),e.receivedDate?(0,x.jsxs)(`span`,{className:`text-green-700 dark:text-green-300`,children:[`Recebido em `,e.receivedDate]}):(0,x.jsx)(`span`,{className:`invisible select-none`,children:`Espaçador`})]}),right:(0,x.jsx)(`div`,{className:`flex flex-col items-end gap-1`,children:(0,x.jsx)(`span`,{className:n?`text-green-700 dark:text-green-400 font-medium`:`text-blue-700 dark:text-blue-400 font-medium`,children:n?`Recebido`:`Em aberto`})})})]})},[t]),renderDesktopItem:(0,b.useCallback)(e=>{let n=!!e.receivedDate,r=n?`Recebido em ${e.receivedDate}`:`Previsto para ${e.expectedDate}`;return(0,x.jsxs)(s,{onClick:()=>t(e),variant:n?`success`:`default`,children:[(0,x.jsx)(u,{children:e.description}),(0,x.jsx)(c,{span:4,children:(0,x.jsx)(`span`,{className:n?`text-green-700 dark:text-green-300`:`text-blue-700 dark:text-blue-300`,children:r})}),(0,x.jsx)(f,{children:_(e.amount)}),(0,x.jsx)(`div`,{className:`col-span-2 text-right flex justify-end items-center gap-2`,children:(0,x.jsx)(`span`,{className:n?`text-green-700 dark:text-green-400 font-semibold`:`text-blue-700 dark:text-blue-400 font-semibold`,children:n?`Recebido`:`Em aberto`})})]})},[t])})});var C=(0,b.lazy)(()=>i(()=>import(`./AddIncomeModal-BKQqcQEZ.js`),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]))),w=(0,b.lazy)(()=>i(()=>import(`./EditIncomeModal-COqnNsic.js`),__vite__mapDeps([17,1,2,3,4,5,6,7,9,10,11,18,13,12,15,16])));function T(){let{month:e,year:t}=h(),{incomes:i,isLoading:a}=y(e,String(t)),o=n(),s=()=>o(`/`),[c,l]=(0,b.useState)(null),[u,d]=(0,b.useState)(!1),f=(0,b.useMemo)(()=>{let n=e===`all`?String(t):r(new Date(Number(t),Number(e)-1,1),`MMMM 'de' yyyy`,{locale:v});return`${e===`all`?n:n.charAt(0).toUpperCase()+n.slice(1)} • Total: ${_(i.reduce((e,t)=>e+Number(t.amount),0))}`},[e,t,i]);return a?(0,x.jsx)(m,{title:`Receitas`,onBack:s,headerVariant:`income`,children:(0,x.jsx)(g,{})}):(0,x.jsxs)(m,{title:`Receitas`,onBack:s,subtitle:f,headerVariant:`income`,children:[(0,x.jsx)(`div`,{className:`pt-1 pb-20`,children:(0,x.jsx)(S,{incomes:i,onSelect:l})}),(0,x.jsx)(`button`,{type:`button`,onClick:()=>d(!0),className:`fixed bottom-6 right-6 z-50 flex h-14 w-14 items-center justify-center rounded-full bg-emerald-600 text-white shadow-lg transition-all hover:bg-emerald-700 dark:bg-emerald-500 dark:hover:bg-emerald-600 hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900`,"aria-label":`Nova receita`,children:(0,x.jsx)(p,{className:`h-7 w-7`})}),u&&(0,x.jsx)(b.Suspense,{fallback:null,children:(0,x.jsx)(C,{isOpen:u,onClose:()=>d(!1)})}),c&&(0,x.jsx)(b.Suspense,{fallback:null,children:(0,x.jsx)(w,{isOpen:!!c,income:c,onClose:()=>l(null)})})]})}export{T as default};