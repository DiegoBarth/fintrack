<!DOCTYPE html>
<html lang="pt-br">

<head>
   <meta charset="UTF-8">
   <title>Compromissos</title>
   <meta name="viewport" content="width=device-width, initial-scale=1">

   <script src="js/api.js"></script>
   <script src="js/formatters.js"></script>
   <script src="js/commitment.js"></script>
</head>

<body>

   <h2>Novo compromisso</h2>

   <form id="form-commitment">

      <input type="text" id="description" placeholder="Descrição" required><br><br>

      <select id="category" required>
         <option value="">Categoria</option>
         <option>Banco</option>
         <option>Beleza</option>
         <option>Casa</option>
         <option>Educação</option>
         <option>Empréstimos</option>
         <option>Investimento</option>
         <option>Lazer</option>
         <option>Pets</option>
         <option>Presentes</option>
         <option>Roupas</option>
         <option>Saúde</option>
         <option>Serviços</option>
         <option>Streaming</option>
         <option>Telefonia</option>
         <option>Transporte</option>
         <option>Viagem</option>
      </select><br><br>

      <select id="type" required onchange="changeType()">
         <option value="">Tipo</option>
         <option value="fixed">Fixo</option>
         <option value="variable">Variável</option>
         <option value="card">Cartão</option>
      </select><br><br>

      <div id="standardBlock" style="display:none">
         <input type="text" id="amount" placeholder="R$ 0,00" oninput="formatCurrency(this)"><br><br>
         <input type="date" id="dueDateStandard"><br><br>
      </div>

      <div id="cardBlock" style="display:none">
         <select id="card">
            <option value="">Selecione</option>
            <option>Bradesco</option>
            <option>Itaú</option>
            <option>Mercado Pago</option>
         </select><br><br>
         <input type="text" id="totalAmount" placeholder="Valor total" oninput="formatCurrency(this)"><br><br>
         <input type="number" id="installments" placeholder="Total de parcelas" min="1" max="60"
            onchange="generateInstallments(this.value)"><br><br>
         <input type="date" id="dueDateCard"><br><br>
      </div>

      <button>Salvar compromisso</button>
   </form>

   <p id="msg"></p>

   <hr>

   <h2>Compromissos do mês</h2>

   <select id="filterMonth">
      <option value="1">Janeiro</option>
      <option value="2">Fevereiro</option>
      <option value="3">Março</option>
      <option value="4">Abril</option>
      <option value="5">Maio</option>
      <option value="6">Junho</option>
      <option value="7">Julho</option>
      <option value="8">Agosto</option>
      <option value="9">Setembro</option>
      <option value="10">Outubro</option>
      <option value="11">Novembro</option>
      <option value="12">Dezembro</option>
   </select>
   <input type="number" id="filterYear" value="2026">

   <button onclick="listCommitments()">Buscar</button>

   <ul id="commitmentsList"></ul>

</body>

</html>