const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AddExpenseModal-CYI7ZZva.js","assets/index-BNa-EEwN.js","assets/vendor-react-g7Jl8uRT.js","assets/react-query-Bs2h8zdQ.js","assets/rolldown-runtime-DGruFWvd.js","assets/vendor-react-Chw94eNX.css","assets/index-1gQSlcTj.css","assets/pt-BR-CwF-q4-j.js","assets/useValidation-B89zUSjX.js","assets/expenseQuery-BvARhOIp.js","assets/sanitizers-BTIJ-cE9.js","assets/BaseModal-gkdyOWux.js","assets/CustomSelect-BH4hmb6T.js","assets/DateField-BbN-VAiT.js","assets/queryInvalidationService-BhaAFd3M.js","assets/useExpense-DcmMb1WD.js","assets/formatters-QxNcvdBP.js","assets/EditExpenseModal-MILyk_54.js","assets/x-BXhnSY61.js","assets/ConfirmModal-Pmhxrq1K.js"])))=>i.map(i=>d[i]);
import{T as e,w as t}from"./react-query-Bs2h8zdQ.js";import{b as n,i as r,x as i}from"./vendor-react-g7Jl8uRT.js";import{a,c as o,i as s,n as c,o as l,r as u,s as d,t as f}from"./ListColValue-DIPs8yTV.js";import{t as p}from"./plus-FMxYpmOt.js";import{a as m,g as h,r as g}from"./index-BNa-EEwN.js";import{o as _}from"./formatters-QxNcvdBP.js";import"./sanitizers-BTIJ-cE9.js";import"./queryInvalidationService-BhaAFd3M.js";import{t as v}from"./pt-BR-CwF-q4-j.js";import"./expenseQuery-BvARhOIp.js";import{t as y}from"./useExpense-DcmMb1WD.js";import{t as b}from"./ListColStatus-BSyTSV9u.js";var x=e(),S=t();const C=(0,x.memo)(function({expenses:e,onSelect:t}){return(0,S.jsx)(o,{itens:e,emptyText:`Nenhum gasto cadastrado`,keyExtractor:e=>e.rowIndex,renderMobileItem:(0,x.useCallback)(e=>(0,S.jsxs)(d,{onClick:()=>t(e),className:`p-3`,children:[(0,S.jsx)(l,{title:e.description,right:(0,S.jsx)(`span`,{className:`text-red-600 dark:text-red-400`,children:_(e.amount)})}),(0,S.jsx)(a,{left:(0,S.jsxs)(`span`,{className:`text-green-700 dark:text-green-400`,children:[`Pago em `,e.paymentDate,` • `,e.category]}),right:(0,S.jsx)(`span`,{className:`text-green-700 dark:text-green-400 font-medium`,children:`Pago`})})]}),[t]),renderDesktopItem:(0,x.useCallback)(e=>(0,S.jsxs)(s,{onClick:()=>t(e),children:[(0,S.jsx)(u,{children:e.description}),(0,S.jsx)(c,{span:2,children:e.category??`-`}),(0,S.jsx)(c,{span:2,children:(0,S.jsxs)(`span`,{className:`text-green-700 dark:text-green-400`,children:[`Pago em `,e.paymentDate]})}),(0,S.jsx)(f,{children:(0,S.jsx)(`span`,{className:`text-red-600 dark:text-red-400 font-semibold`,children:_(e.amount)})}),(0,S.jsx)(b,{children:(0,S.jsx)(`span`,{className:`text-green-700 dark:text-green-400 font-semibold`,children:`Pago`})})]}),[t])})});var w=(0,x.lazy)(()=>i(()=>import(`./AddExpenseModal-CYI7ZZva.js`),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]))),T=(0,x.lazy)(()=>i(()=>import(`./EditExpenseModal-MILyk_54.js`),__vite__mapDeps([17,1,2,3,4,5,6,18,9,10,11,19,14,15,16])));function E(){let{month:e,year:t}=h(),{expenses:i,isLoading:a}=y(e,String(t)),o=n(),s=()=>o(`/`),[c,l]=(0,x.useState)(null),[u,d]=(0,x.useState)(!1),f=(0,x.useMemo)(()=>{let n=e===`all`?String(t):r(new Date(Number(t),Number(e)-1,1),`MMMM 'de' yyyy`,{locale:v});return`${e===`all`?n:n.charAt(0).toUpperCase()+n.slice(1)} • Total: ${_(i.reduce((e,t)=>e+Number(t.amount),0))}`},[e,t,i]);return a?(0,S.jsx)(m,{title:`Gastos`,onBack:s,headerVariant:`expense`,children:(0,S.jsx)(g,{})}):(0,S.jsxs)(m,{title:`Gastos`,onBack:s,subtitle:f,headerVariant:`expense`,children:[(0,S.jsx)(`div`,{className:`pt-1 pb-20`,children:(0,S.jsx)(C,{expenses:i,onSelect:l})}),(0,S.jsx)(`button`,{type:`button`,onClick:()=>d(!0),className:`fixed bottom-6 right-6 z-50 flex h-14 w-14 items-center justify-center rounded-full bg-red-600 text-white shadow-lg transition-all hover:bg-red-700 dark:bg-red-500 dark:hover:bg-red-600 hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900`,"aria-label":`Novo gasto`,children:(0,S.jsx)(p,{className:`h-7 w-7`})}),u&&(0,S.jsx)(x.Suspense,{fallback:null,children:(0,S.jsx)(w,{isOpen:u,onClose:()=>d(!1)})}),c&&(0,S.jsx)(x.Suspense,{fallback:null,children:(0,S.jsx)(T,{isOpen:!!c,expense:c,onClose:()=>l(null)})})]})}export{E as default};